{"version":3,"sources":["jarvis-user-profile.js"],"names":["Jarvis","UserProfile","$","_class","options","_this","this","opt","_classCallCheck","version","jarvisUri","hasOwnProperty","hotKey","document","getElementById","e","key","match","preventDefault","hotKeySelect","select","addEventListener","jarvisThemeCss","setAttribute","href","jarvisThemeSelect","querySelector","scheme","matchColorScheme","value","changeScheme","currentTarget","_createClass","themeOption","concat","getAttribute","indexOf","jQuery"],"mappings":";;;;;;;mZAAAA,OAAOC,YAAgB,SAAUC,GAEhC,OAAA,WACC,SAAAC,EAAaC,GAAU,IAAAC,EAAAC,KADxB,IAAA,IAAAC,KACwBC,gBAAAF,KAAAH,GAEtBG,KAAKF,QAAU,CACdK,QAAS,GACTC,UAAW,6BALdN,EAAAA,EAAAO,eAAAJ,KACCD,KAAAF,QAAAG,GAAaH,EAAUG,IAGrBE,GAUDH,KAAKM,OAAUC,SAASC,eAAe,iBAVtCL,KAAAA,OADc,CAEdC,KAAAA,OAAAA,iBAAW,UAAA,SAAAK,GAFZA,EAAAC,IAAAC,MAAA,qCAgBGF,EAAEG,mBAPJ,IAAAC,EAAA,WAaCd,EAAKO,OAAOQ,UATdd,KAAAM,OAAKS,iBAAc,QAAAF,GAClBb,KAAAM,OAAKA,iBAAOS,QAAkBF,GAG5Bb,KAAAgB,eAAAT,SAAAC,eAAA,uBACAR,KAAAgB,gBACDhB,KAAAgB,eALDC,aAAA,YAAAjB,KAAAgB,eAAAE,MAQClB,KAAAmB,kBAAYL,SAAZM,cAAA,+BAcGpB,KAAKmB,mBAXTnB,KAAAmB,kBAAYJ,iBAAiB,SAASF,WACtC,IAAAQ,EAcEA,EAbFtB,EAAAuB,mBAaWf,SAASa,cAAc,6CAA6CG,MAEpExB,EAAKoB,kBAAkBI,MAVlCxB,EAAAyB,aAAAH,KAIDzB,EAAA,iBAAUuB,GAAAA,oBAAoB,gBAAA,SAAAV,GAC7BV,EAAAuB,oBACCvB,EAAAyB,aAAAf,EAAAgB,cAAAL,cAAA,uBAAAG,SAzCJ,OAAAG,aAAA7B,EAAA,CAAA,CAAAa,IAAA,eAAAa,MAAA,SA6CKF,GACA,GAAArB,KAAAgB,eAAA,CAeF,IAAIW,EAAc3B,KAAKmB,kBAAkBC,cAAvB,iBAAAQ,OAAuDP,EAAvD,OAbjBM,IACA3B,KAAAgB,eATDE,KAAAS,EAAAE,aAAA,gBAxCH,CAAAnB,IAAA,mBAAAa,MAAA,WAuDI,OAAA,EAAA,CAAA,GAAA,MAAAO,QAAA9B,KAAAmB,kBAAAI,WAvDJ1B,EAAA,GAFsB,CAEtBkC","file":"jarvis-user-profile.js","sourcesContent":["Jarvis.UserProfile = ( function( $ ) {\n\n\treturn class {\n\t\tconstructor( options ) {\n\n\t\t\tthis.options = {\n\t\t\t\tversion: '',\n\t\t\t\tjarvisUri: '/wp-content/themes/jarvis',\n\t\t\t};\n\n\t\t\tfor( let opt in options ) {\n\t\t\t\tif ( options.hasOwnProperty( opt ) ) {\n\t\t\t\t\tthis.options[ opt ] = options[ opt ];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.hotKey  = document.getElementById('jarvis_hotkey');\n\n\t\t\tif ( this.hotKey ) {\n\t\t\t\tthis.hotKey.addEventListener( 'keydown', (e) => {\n\t\t\t\t\tif ( ! e.key.match(/^[a-z0-9\\;\\\\\\|\\=\\,\\-\\.\\/\\`\\[\\]]$/) ) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tconst hotKeySelect = () => {\n\t\t\t\t\tthis.hotKey.select();\n\t\t\t\t}\n\n\t\t\t\tthis.hotKey.addEventListener('focus', hotKeySelect);\n\t\t\t\tthis.hotKey.addEventListener('keyup', hotKeySelect);\n\t\t\t}\n\n\t\t\tthis.jarvisThemeCss = document.getElementById('wp-jarvis-theme-css');\n\t\t\tif ( this.jarvisThemeCss ) {\n\t\t\t\tthis.jarvisThemeCss.setAttribute('data-href', this.jarvisThemeCss.href);\n\t\t\t}\n\n\t\t\tthis.jarvisThemeSelect = document.querySelector('select[name=\"jarvis_theme\"]');\n\n\t\t\tif ( this.jarvisThemeSelect ) {\n\t\t\t\tthis.jarvisThemeSelect.addEventListener( 'change', () => {\n\t\t\t\t\tlet scheme;\n\t\t\t\t\tif ( this.matchColorScheme() ) {\n\t\t\t\t\t\tscheme = document.querySelector('#color-picker input[type=\"radio\"]:checked').value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tscheme = this.jarvisThemeSelect.value\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.changeScheme( scheme );\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$('#color-picker').on( 'click.colorpicker', '.color-option', (e) => {\n\t\t\t\tif ( this.matchColorScheme() ) {\n\t\t\t\t\tthis.changeScheme( e.currentTarget.querySelector( 'input[type=\"radio\"]' ).value );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tchangeScheme( scheme ) {\n\t\t\tif ( this.jarvisThemeCss ) {\n\t\t\t\tlet themeOption = this.jarvisThemeSelect.querySelector( `option[value=\"${scheme}\"]` );\n\t\t\t\tif ( themeOption ) {\n\t\t\t\t\tthis.jarvisThemeCss.href = themeOption.getAttribute('data-uri');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tmatchColorScheme() {\n\t\t\treturn [ '', 'wp' ].indexOf( this.jarvisThemeSelect.value ) > -1;\n\t\t}\n\t}\n\n})( jQuery );\n"]}